(self.webpackChunkwai=self.webpackChunkwai||[]).push([[3041],{18118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthCode:()=>b,AuthPassword:()=>P,AuthRegister:()=>w,AuthRegisterEmail:()=>k,AuthSignPassword:()=>R});var n=r(60748),a=r(33555),o=r(77361),i=r(60782),s=r(32340),l=r(46590),c=r(59107),u=r(97687),d=r(34288),m=r(83716),h=r(62821),g=r(42797),f=r(97799);const p=(0,n.X$)((({code:e,codeLength:t,trackingDirection:r,isTracking:a,isBig:o})=>{const[i,s]=(0,n.eJ)(!1),{isMobile:l}=(0,g.ZP)(),c=165/t,u=l?m.qpg:m.z7m,d=(0,n.I4)((()=>s(!0)),[]);return n.ZP.createElement("div",{id:"monkey",className:o?"big":""},!i&&n.ZP.createElement("div",{className:"monkey-preview"}),n.ZP.createElement(f.Z,{size:o?m.K2q:u,className:a?"hidden":void 0,tgsUrl:h.l.MonkeyIdle,play:!a,onLoad:d}),n.ZP.createElement(f.Z,{size:o?m.K2q:u,className:a?"shown":"hidden",tgsUrl:h.l.MonkeyTracking,playSegment:a?function(){const n=e&&e.length>1||r<0?15+c*(e.length-1):0,a=e.length===t?180:15+c*e.length;return r<1?[a,n]:[n,a]}():void 0,speed:2,noLoop:!0}))})),b=(0,n.X$)((0,a.c$)((e=>(0,i.ei)(e,["authPhoneNumber","authIsCodeViaApp","authIsLoading","authError"])))((({authPhoneNumber:e,authIsCodeViaApp:t,authIsLoading:r,authError:i})=>{const{setAuthCode:m,returnToAuthPhoneNumber:h,clearAuthError:g}=(0,a.Sv)(),f=(0,c.Z)(),b=(0,n.sO)(null),[v,y]=(0,n.eJ)(""),[P,Z]=(0,n.eJ)(!1),[E,w]=(0,n.eJ)(1);(0,n.d4)((()=>{o.$b||b.current.focus()}),[]),(0,l.Z)({isActive:!0,onBack:h});const _=(0,n.I4)((e=>{i&&g();const{currentTarget:t}=e;t.value=t.value.replace(/[^\d]+/,"").substr(0,5),t.value!==v&&(y(t.value),P?t.value.length||Z(!1):Z(!0),v&&v.length>t.value.length?w(-1):w(1),5===t.value.length&&m({code:t.value}))}),[i,g,v,P,m]);return n.ZP.createElement("div",{id:"auth-code-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement(p,{code:v,codeLength:5,isTracking:P,trackingDirection:E}),n.ZP.createElement("h1",null,e,n.ZP.createElement("div",{className:"auth-number-edit",onClick:function(){h()},role:"button",tabIndex:0,title:f("WrongNumber")},n.ZP.createElement("i",{className:"icon-edit"}))),n.ZP.createElement("p",{className:"note"},(0,s.Z)(f(t?"SentAppCode":"Login.JustSentSms"),["simple_markdown"])),n.ZP.createElement(u.Z,{ref:b,id:"sign-in-code",label:f("Code"),onInput:_,value:v,error:i&&f(i),autoComplete:"off",inputMode:"numeric"}),r&&n.ZP.createElement(d.Z,null)))})));var v=r(93490),y=r(99364);const P=(0,n.X$)((0,a.c$)((e=>(0,i.ei)(e,["authIsLoading","authError","authHint"])))((({authIsLoading:e,authError:t,authHint:r})=>{const{setAuthPassword:o,clearAuthError:i}=(0,a.Sv)(),s=(0,c.Z)(),[l,u]=(0,n.eJ)(!1),d=(0,n.I4)((e=>{u(e)}),[]),m=(0,n.I4)((e=>{o({password:e})}),[o]);return n.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement(v.Z,{isPasswordVisible:l}),n.ZP.createElement("h1",null,s("Login.Header.Password")),n.ZP.createElement("p",{className:"note"},s("Login.EnterPasswordDescription")),n.ZP.createElement(y.Z,{clearError:i,error:t&&s(t),hint:r,isLoading:e,isPasswordVisible:l,onChangePasswordVisibility:d,onSubmit:m})))})));var Z=r(231),E=r(90730);const w=(0,n.X$)((0,a.c$)((e=>(0,i.ei)(e,["authIsLoading","authError"])))((({authIsLoading:e,authError:t})=>{const{signUp:r,clearAuthError:o,uploadProfilePhoto:i}=(0,a.Sv)(),s=(0,c.Z)(),[l,d]=(0,n.eJ)(!1),[m,h]=(0,n.eJ)(),[g,f]=(0,n.eJ)(""),[p,b]=(0,n.eJ)(""),v=(0,n.I4)((e=>{t&&o();const{target:r}=e;f(r.value),d(r.value.length>0)}),[t,o]),y=(0,n.I4)((e=>{const{target:t}=e;b(t.value)}),[]);return n.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement("form",{action:"",method:"post",onSubmit:function(e){e.preventDefault(),r({firstName:g,lastName:p}),m&&i({file:m})}},n.ZP.createElement(E.Z,{onChange:h}),n.ZP.createElement("h2",null,s("YourName")),n.ZP.createElement("p",{className:"note"},s("Login.Register.Desc")),n.ZP.createElement(u.Z,{id:"registration-first-name",label:s("Login.Register.FirstName.Placeholder"),onChange:v,value:g,error:t&&s(t),autoComplete:"given-name"}),n.ZP.createElement(u.Z,{id:"registration-last-name",label:s("Login.Register.LastName.Placeholder"),onChange:y,value:p,autoComplete:"family-name"}),l&&n.ZP.createElement(Z.Z,{type:"submit",ripple:!0,isLoading:e},s("Next")))))}))),_=r.p+"github.cc5da41cefbfea31a26e.svg",C=r.p+"google.324ab349caf94c572718.svg";var N=r(89618),I=r(2133),S=r(44567);let A=!1;const k=(0,n.X$)((0,a.c$)((e=>(0,i.ei)(e,["authError"])))((({authError:e})=>{const{clearAuthError:t,showAuthError:r,updateGlobal:o}=(0,a.Sv)(),i=(0,c.Z)(),[s,l]=(0,n.eJ)(!1),[d,h]=(0,n.eJ)(!1),[f,p]=(0,n.eJ)(m.IKD),[b,v]=(0,n.eJ)((0,I.Ju)(f)),[P,E]=(0,n.eJ)(m.vSM),[w,k]=(0,n.eJ)(""),[L,B]=(0,n.eJ)(""),[x,D]=(0,n.eJ)(""),[H,J]=(0,n.eJ)(!1),[M,T]=(0,n.eJ)(!1),[R,q]=(0,n.eJ)(!1),U=(0,n.I4)((e=>{h(!d)}),[d]),j=(0,n.I4)((r=>{e&&t();const{target:n}=r;p(n.value),v((0,I.Ju)(n.value))}),[e,t]),O=(0,n.I4)((r=>{L&&B(""),e&&t(),E(r)}),[L,B,t]),$=(0,n.I4)((r=>{x&&D(""),e&&t(),k(r)}),[x,D,t]),z=(0,n.I4)((e=>{T(e)}),[]),V=(0,n.I4)((e=>{q(e)}),[]),K=()=>{o({authState:"authorizationStateReady"})},F=({token:e,user:t})=>{localStorage.setItem(m.IPc,JSON.stringify({token:e,user:t}))};(0,n.d4)((()=>{const{query:e}=(0,I.k1)(window.location.href),{code:t,email:n}=e;t&&!A&&(A=!0,p(n),J(!0),v(!0),(async()=>{try{const e=await fetch(`${m.qHj}/auth/token`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({code:t})}),n=await e.json();n.err_msg?r(n.err_msg):(F(n),K())}catch(e){r("network error")}})().then((()=>{window.history.replaceState({},"",window.location.href.split("?")[0])})).finally((()=>{A=!1,J(!1)})))}),[]),(0,n.d4)((()=>{const{query:e}=(0,I.k1)(window.location.href),{err_msg:t}=e;t&&(r(t),window.history.replaceState({},"",window.location.href.split("?")[0]))}),[]);const X=(0,n.I4)((()=>{o({authState:"authorizationStateReady"})}),[o]),W=(0,g.W7)();return n.ZP.createElement("div",{id:"auth-registration-form",className:"custom-scroll"},n.ZP.createElement("div",{className:"auth-close"},n.ZP.createElement(Z.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:i("Close"),onClick:X},n.ZP.createElement("i",{className:"icon-close"}))),n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement("form",{action:"",method:"post",onSubmit:async function(e){if(e.preventDefault(),!(0,I.Ju)(f))return r("Email不合法");if(!(0,S.t)(P))return B(i("PasswordTipsCheck"));if(s){const e={password:(await(0,N.sha1)(P.toString())).toString("hex")};J(!0);try{const t=await fetch(`${m.qHj}/auth/password`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(n.err_msg)return r(n.err_msg);K()}catch(e){r("登录异常")}finally{J(!1)}return}if(d&&P!=w)return D("两次输入的密码不一致");const t=P===m.vSM?"da39a3ee5e6b4b0d3255bfef95601890afd80709":await(0,N.sha1)(P.toString()),n={email:f,password:t.toString("hex")};J(!0);try{const e=await fetch(`${m.qHj}/auth/${d?"reg":"login"}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();if(t.err_msg)return r(t.err_msg);F(t),K()}catch(e){r("登录异常")}finally{J(!1)}}},n.ZP.createElement("h2",null,"WAI"),n.ZP.createElement("p",{className:"note"},"An Ai Chat Application"),n.ZP.createElement(u.Z,{onFocus:t,id:"registration-email",type:"email",label:"Email",onChange:j,value:f,error:e&&i(e)||"",autoComplete:"given-name"}),n.ZP.createElement(y.Z,{clearError:()=>B(""),error:L&&i(L),isPasswordVisible:M,onChangePasswordVisibility:z,onInputChange:O}),d&&n.ZP.createElement(y.Z,{placeholder:"Repeat Password",clearError:()=>D(""),error:x&&i(x),isPasswordVisible:R,onChangePasswordVisibility:V,onInputChange:$}),b&&n.ZP.createElement(Z.Z,{type:"submit",ripple:!0,isLoading:H},i("Next"))),d?n.ZP.createElement("div",{className:"auth-tips"},"Already have an account? ",n.ZP.createElement("u",{className:"auth-tips-action",onClick:U},"Log in")):n.ZP.createElement("div",{className:"auth-tips"},"Don't have an account? ",n.ZP.createElement("u",{className:"auth-tips-action",onClick:U},"Sign up")),n.ZP.createElement("div",{className:"auth-or-line"},n.ZP.createElement("div",{className:"auth-line"}),n.ZP.createElement("div",{className:"auth-or"},"OR")),n.ZP.createElement("div",{className:"oauth-btn"},n.ZP.createElement(Z.Z,{type:"button",onClick:()=>{window.location.href=`${m.qHj}/auth/github`},className:"Button translucent round","aria-label":"Github",style:""},n.ZP.createElement("img",{src:_,alt:"Github"})),n.ZP.createElement(Z.Z,{type:"button",onClick:()=>{window.location.href=`${m.qHj}/auth/google`},className:"Button translucent round","aria-label":"Google",style:""},n.ZP.createElement("img",{src:C,alt:"Google"})))),W&&n.ZP.createElement("div",{style:"height:500px"}))})));var L=r(59174),B=r(93968),x=r(39793),D=r(37029),H=r(82752),J=r(63024),M=r(95281),T=r(48764).Buffer;const R=(0,n.X$)((0,a.c$)((e=>(0,i.ei)(e,["session","currentAccountAddress","authIsLoading","authError","authHint"])))((({authIsLoading:e,authError:t,session:r})=>{const{setAuthPassword:o,clearAuthError:i,showAuthError:s}=(0,a.Sv)(),l=(0,c.Z)(),[u,d]=(0,n.eJ)(!1),[m,h]=(0,n.eJ)(""),[g,f]=(0,n.eJ)(""),[p,b]=(0,n.eJ)(!1),P=()=>{const e=m.trim().split(" ");return(0===m.trim().length?0:e.length).toString()},E=(0,n.I4)((()=>{b(!p),h("")}),[p,b]),w=(0,n.I4)((()=>{const e=new B.Z;h(e.getWords())}),[h]),_=(0,n.I4)((e=>{const t=e.target.files[0],r=new x.h,n=new Blob([t],{type:t.type}),a=URL.createObjectURL(n);r.scan(a).then((e=>{h(e.data)})).catch((e=>{alert("二维码解析失败")}))}),[h]),C=(0,n.I4)((()=>{document.querySelector("#upload_qrcode").click()}),[h]),N=(0,n.I4)((e=>{f(""),h(e.target.value)}),[]),I=(0,n.I4)((e=>{d(e)}),[]),A=(0,n.I4)((async e=>{if(!(0,S.t)(e))return s(l("PasswordTipsCheck"));let t=m.trim();if(p){if(m.startsWith("wai://")){const r=m.replace("wai://",""),n=T.from(r,"hex"),a=D.zF.parseMsg(new H.es(n));if(!a)return f("解析二维码失败");{const{type:r,data:n}=a;if(r!==J.I.QrCodeType_MNEMONIC)return f("解析二维码失败");try{const r=await(0,M.jz)(n,T.from((0,S.n)(e),"hex"));if(!r)return f("解析二维码失败");t=r.toString()}catch(e){return f("解密二维码失败")}}}else if("12"!==P())return f("助记词需12个单词");if(!new B.Z(t).checkMnemonic())return f("助记词不合法，请输入12个单词,用空格分割")}o({password:e,mnemonic:t})}),[o,m,p]),k=(0,n.I4)((()=>{(0,a.Sv)().updateGlobal({authState:"authorizationStateReady"}),(0,a.Sv)().loadAllChats({listType:"active",shouldReplace:!0})}),[o]);return n.ZP.createElement("div",{id:"auth-password-form",className:"custom-scroll"},!r&&n.ZP.createElement("div",{className:"auth-close"},n.ZP.createElement(Z.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:l("Close"),onClick:k},n.ZP.createElement("i",{className:"icon-close"}))),n.ZP.createElement("div",{className:"auth-form"},n.ZP.createElement(v.Z,{isPasswordVisible:u}),n.ZP.createElement("h1",null,p?"助记词导入":l("Login.Header.Password")),n.ZP.createElement("p",{className:"note"}),p&&n.ZP.createElement(L.Z,{noReplaceNewlines:!0,error:g||"",inputMode:"text",value:m,onChange:N,label:"助记词",disabled:e,maxLength:1e3,maxLengthIndicator:P()}),n.ZP.createElement(y.Z,{clearError:i,error:t&&l(t),hint:l("PasswordTipsLoginPlaceholder"),isLoading:e,isPasswordVisible:u,onChangePasswordVisibility:I,onSubmit:A}),n.ZP.createElement("div",{className:"auth-or-line"},n.ZP.createElement("div",{className:"auth-line"}),n.ZP.createElement("div",{className:"auth-or"},"OR")),p&&n.ZP.createElement(Z.Z,{isText:!0,onClick:w},"助记词生成"),p&&n.ZP.createElement(n.ZP.Fragment,null,n.ZP.createElement("input",{style:"display:none",onChange:_,type:"file",id:"upload_qrcode"}),n.ZP.createElement(Z.Z,{isText:!0,onClick:C},"二维码登录")),n.ZP.createElement(Z.Z,{isText:!0,onClick:E},p?"密码登录":"助记词登录")))})))},99364:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(60748),a=r(83716),o=r(77361),i=r(46752),s=r(3858),l=r(59107),c=r(28183),u=r(42797),d=r(231);const m=(0,n.X$)((({isLoading:e=!1,isPasswordVisible:t,error:r,hint:m,placeholder:h="Password",submitLabel:g="Next",description:f,shouldShowSubmit:p,shouldResetValue:b,shouldDisablePasswordManager:v=!1,noRipple:y=!1,clearError:P,onChangePasswordVisibility:Z,onInputChange:E,onSubmit:w})=>{const _=(0,n.sO)(null),C=(0,l.Z)(),{isMobile:N}=(0,u.ZP)(),[I,S]=(0,n.eJ)(a.vSM),[A,k]=(0,n.eJ)(!1),L=N?550:400;return(0,n.d4)((()=>{b&&!a.vSM&&S("")}),[b]),(0,c.Z)((()=>{o.$b||_.current.focus(),_&&_.current.value&&k(!0)}),L),(0,n.d4)((()=>{r&&requestAnimationFrame((()=>{_.current.focus(),_.current.select()}))}),[r]),n.ZP.createElement("form",{action:"",onSubmit:w?function(t){t.preventDefault(),e||A&&w(I)}:s.Z,autoComplete:"off"},n.ZP.createElement("div",{className:(0,i.Z)("input-group password-input",I&&"touched",r&&"error"),dir:C.isRtl?"rtl":void 0},v&&n.ZP.createElement("input",{type:"password",id:"prevent_autofill",autoComplete:"off",className:"visually-hidden",tabIndex:-2}),n.ZP.createElement("input",{onKeyDown:e=>{if("Enter"==e.code&&!w)return e.preventDefault(),e.stopPropagation(),!1},ref:_,className:"form-control",type:t?"text":"password",id:"sign-in-password",value:I||"",multiple:!0,autoComplete:v?"one-time-code":"current-password",onChange:function(e){r&&P();const{target:t}=e;S(t.value),k(t.value.length>=a.loe),E&&E(t.value)},maxLength:256,dir:"auto"}),n.ZP.createElement("label",null,r||m||h),n.ZP.createElement("div",{className:"toggle-password",onClick:function(){Z(!t)},role:"button",tabIndex:0,title:"Toggle password visibility"},n.ZP.createElement("i",{className:t?"icon-eye":"icon-eye-closed"}))),f&&n.ZP.createElement("p",{className:"description"},f),w&&(A||p)&&n.ZP.createElement(d.Z,{type:"submit",ripple:!y,isLoading:e,disabled:!A},g))}))},93490:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(60748),a=r(83716),o=r(62821),i=r(97799),s=r(28183),l=r(60706),c=r(42797);const u=[0,50],d=[0,20],m=[20,0],h=(0,n.X$)((({isPasswordVisible:e,isBig:t})=>{const[r,h]=(0,l.Z)(!1),[g,f]=(0,l.Z)(!1),{isMobile:p}=(0,c.ZP)(),b=p?a.qpg:a.z7m;(0,s.Z)(f,2e3);const v=(0,n.I4)(h,[h]);return n.ZP.createElement("div",{id:"monkey",className:t?"big":""},!r&&n.ZP.createElement("div",{className:"monkey-preview"}),n.ZP.createElement(i.Z,{size:t?a.K2q:b,className:g?"hidden":"shown",tgsUrl:o.l.MonkeyClose,playSegment:u,noLoop:!0,onLoad:v}),n.ZP.createElement(i.Z,{size:t?a.K2q:b,className:g?"shown":"hidden",tgsUrl:o.l.MonkeyPeek,playSegment:e?d:m,noLoop:!0}))}))},90730:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(60748),a=r(46752),o=r(66735);const i=(0,n.X$)((({title:e="Change your profile picture",disabled:t,isForForum:r,currentAvatarBlobUrl:i,onChange:s})=>{const[l,c]=(0,n.eJ)(),[u,d]=(0,n.eJ)(i);(0,n.d4)((()=>{d(i)}),[i]);const m=(0,n.I4)((e=>{c(void 0),s(e),u&&u!==i&&URL.revokeObjectURL(u),d(URL.createObjectURL(e))}),[u,i,s]),h=(0,n.I4)((()=>{c(void 0)}),[]),g=(0,a.Z)(u&&"filled",t&&"disabled",r&&"rounded-square");return n.ZP.createElement("div",{className:"AvatarEditable"},n.ZP.createElement("label",{className:g,role:"button",tabIndex:0,title:e},n.ZP.createElement("input",{type:"file",onChange:function(e){const t=e.target;t?.files?.[0]&&(c(t.files[0]),t.value="")},accept:"image/png, image/jpeg"}),n.ZP.createElement("i",{className:"icon-camera-add"}),u&&n.ZP.createElement("img",{src:u,alt:"Avatar"})),n.ZP.createElement(o.Z,{file:l,onClose:h,onChange:m}))}))},66735:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(60748),a=r(83716),o=r(71394),i=r(59107),s=r(231),l=r(13103),c=r(34288);const u={type:"blob",quality:1,format:"jpeg",circle:!1,size:{width:1024,height:1024}};let d,m,h;const g=(0,n.X$)((({file:e,onChange:t,onClose:g})=>{const[f,p]=(0,n.eJ)(!1);(0,n.d4)((()=>{e&&(f?async function(e){try{const t=document.getElementById("avatar-crop");if(!t)return;const{offsetWidth:r,offsetHeight:n}=t;h=new d(t,{enableZoom:!0,boundary:{width:r,height:n},viewport:{width:r-16,height:n-16,type:"circle"}});const a=await(0,o.YJ)(e);await h.bind({url:a})}catch(e){a.eMD&&console.error(e)}}(e):async function(){return m||(m=Promise.all([r.e(5099),r.e(3472)]).then(r.bind(r,23472)),d=(await m).default),m}().then((()=>p(!0))))}),[e,f]);const b=(0,i.Z)(),v=(0,n.I4)((async()=>{if(!h)return;const e=await h.result(u),r="string"==typeof e?e:(0,o.hl)(e,"avatar.jpg");t(r)}),[t]);return n.ZP.createElement(l.Z,{isOpen:Boolean(e),onClose:g,title:"Drag to reposition",className:"CropModal",hasCloseButton:!0},f?n.ZP.createElement("div",{id:"avatar-crop"}):n.ZP.createElement(c.Z,null),n.ZP.createElement(s.Z,{className:"confirm-button",round:!0,color:"primary",onClick:v,ariaLabel:b("CropImage")},n.ZP.createElement("i",{className:"icon-check"})))}))},13103:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(60748),a=r(517),o=r(46752),i=r(98069),s=r(18674),l=r(31212),c=r(274),u=r(59107),d=r(46590),m=r(231),h=r(62898);const g=({dialogRef:e,title:t,className:r,isOpen:g,isSlim:f,header:p,hasCloseButton:b,noBackdrop:v,noBackdropClose:y,children:P,style:Z,onClose:E,onCloseAnimationEnd:w,onEnter:_,shouldSkipHistoryAnimations:C})=>{const{shouldRender:N,transitionClassNames:I}=(0,l.Z)(g,w,C,void 0,C),S=(0,n.sO)(null);(0,n.d4)((()=>{if(g)return(0,i.l_)(),i.In}),[g]),(0,n.d4)((()=>g?(0,a.Z)({onEsc:E,onEnter:_}):void 0),[g,E,_]),(0,n.d4)((()=>g&&S.current?function(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const r=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!r.length)return;const n=r.findIndex((e=>e.isSameNode(document.activeElement)));let a=0;n>=0&&(a=t.shiftKey?n>0?n-1:r.length-1:n<r.length-1?n+1:0),r[a].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}(S.current):void 0),[g]),(0,d.Z)({isActive:g,onBack:E}),(0,c.Z)((([e])=>(document.body.classList.toggle("has-open-dialog",Boolean(g)),(g||!g&&void 0!==e)&&(0,s.YW)(200),()=>{document.body.classList.remove("has-open-dialog")})),[g]);const A=(0,u.Z)();if(!N)return;const k=(0,o.Z)("Modal",r,I,v&&"transparent-backdrop",f&&"slim");return n.ZP.createElement(h.Z,null,n.ZP.createElement("div",{ref:S,className:k,tabIndex:-1,role:"dialog"},n.ZP.createElement("div",{className:"modal-container"},n.ZP.createElement("div",{className:"modal-backdrop",onClick:y?void 0:E}),n.ZP.createElement("div",{className:"modal-dialog",ref:e},p||(t?n.ZP.createElement("div",{className:"modal-header"},b&&n.ZP.createElement(m.Z,{round:!0,color:"translucent",size:"smaller",ariaLabel:A("Close"),onClick:E},n.ZP.createElement("i",{className:"icon-close"})),n.ZP.createElement("div",{className:"modal-title"},t)):void 0),n.ZP.createElement("div",{className:"modal-content custom-scroll",style:Z},P)))))}},59174:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(59107),a=r(46752),o=r(60748);const i=(0,o.X$)((({ref:e,id:t,className:r,value:i,label:s,error:l,success:c,disabled:u,readOnly:d,placeholder:m,autoComplete:h,inputMode:g,maxLength:f,maxLengthIndicator:p,tabIndex:b,onChange:v,onInput:y,onKeyPress:P,onKeyDown:Z,onBlur:E,onPaste:w,noReplaceNewlines:_})=>{let C=(0,o.sO)(null);e&&(C=e);const N=(0,n.Z)(),I=l||c||s,S=(0,a.Z)("input-group",i&&"touched",l?"error":c&&"success",u&&"disabled",d&&"disabled",I&&"with-label",r);(0,o.d4)((()=>{const e=C.current;e&&(e.style.height="0",e.style.height=`${e.scrollHeight}px`)}),[i]);const A=(0,o.I4)((e=>{if(!_){const t=e.currentTarget.selectionEnd;e.currentTarget.value=e.currentTarget.value.replace(/\n/g," "),e.currentTarget.selectionEnd=t}e.currentTarget.style.height="0",e.currentTarget.style.height=`${e.currentTarget.scrollHeight}px`,v?.(e)}),[_,v]);return o.ZP.createElement("div",{className:S,dir:N.isRtl?"rtl":void 0},o.ZP.createElement("textarea",{ref:C,className:"form-control",id:t,dir:"auto",rows:3,value:i||"",tabIndex:b,placeholder:m,maxLength:f,autoComplete:h,inputMode:g,disabled:u,readOnly:d,onChange:A,onInput:y,onKeyPress:P,onKeyDown:Z,onBlur:E,onPaste:w,"aria-label":I}),I&&o.ZP.createElement("label",{htmlFor:t},I),p&&o.ZP.createElement("div",{className:"max-length-indicator"},p))}))},28183:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(60748);const a=function(e,t){const r=(0,n.sO)(e);(0,n.bt)((()=>{r.current=e}),[e]),(0,n.d4)((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>r.current()),t);return()=>clearTimeout(e)}),[t])}},89618:(e,t,r)=>{var n=r(48764).Buffer;const a=r(24736),o=r(66842);function i(e,t=!0,r=!1){let o=n.from(e);const i=o.length;t&&(o=o.reverse());let s=a(o.toString("hex"),16);return r&&Math.floor(s.toString("2").length/8)>=i&&(s=s.subtract(a(2).pow(a(8*i)))),s}function s(e,t=8){const r=a(e),o=[];for(let e=0;e<t;e++)o[e]=r.shiftRight(8*e).and(255);return n.from(o)}function l(e,t,r=!0,o=!1){const i=(e=a(e)).bitLength();if(t<Math.ceil(i/8))throw new Error("OverflowError: int too big to convert");if(!o&&e.lesser(a(0)))throw new Error("Cannot convert to unsigned");let s=!1;e.lesser(a(0))&&(s=!0,e=e.abs());const l=e.toString("16").padStart(2*t,"0");let c=n.from(l,"hex");if(r&&(c=c.reverse()),o&&s)if(r){let e=!1;0!==c[0]&&(c[0]-=1);for(let t=0;t<c.length;t++)0!==c[t]?(e&&(c[t]-=1,e=!1),c[t]=255-c[t]):e=!0}else{c[c.length-1]=256-c[c.length-1];for(let e=0;e<c.length-1;e++)c[e]=255-c[e]}return c}function c(e){return n.from(o.randomBytes(e))}function u(e){const t=o.createHash("sha1");return t.update(e),t.digest()}let d;e.exports={readBigIntFromBuffer:i,readBufferFromBigInt:l,generateRandomLong:function(e=!0){return i(c(8),!0,e)},mod:function(e,t){return(e%t+t)%t},crc32:function(e){d||(d=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),n.isBuffer(e)||(e=n.from(e));let t=-1;for(let r=0;r<e.length;r++){const n=e[r];t=d[255&(t^n)]^t>>>8}return(-1^t)>>>0},generateRandomBytes:c,generateKeyDataFromNonce:async function(e,t){e=s(e,16),t=s(t,32);const[r,a,o]=await Promise.all([u(n.concat([t,e])),u(n.concat([e,t])),u(n.concat([t,t]))]);return{key:n.concat([r,a.slice(0,12)]),iv:n.concat([a.slice(12,20),o,t.slice(0,4)])}},sha1:u,sha256:function(e){const t=o.createHash("sha256");return t.update(e),t.digest()},bigIntMod:function(e,t){return e.remainder(t).add(t).remainder(t)},modExp:function(e,t,r){e=e.remainder(r);let n=a.one,o=e;for(;t.greater(a.zero);){const e=t.remainder(a(2));t=t.divide(a(2)),e.eq(a.one)&&(n=n.multiply(o),n=n.remainder(r)),o=o.multiply(o),o=o.remainder(r)}return n},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},sleep:e=>new Promise((t=>{setTimeout(t,e)})),getByteArray:function(e,t=!1){const r=e.toString(2).length,n=Math.floor((r+8-1)/8);return l(a(e),n,!1,t)},toSignedLittleBuffer:s,convertToLittle:function(e){const t=n.alloc(4*e.length);for(let r=0;r<e.length;r++)t.writeUInt32BE(e[r],4*r);return t},bufferXor:function(e,t){const r=[];for(let n=0;n<e.length;n++)r.push(e[n]^t[n]);return n.from(r)}}},74121:(e,t,r)=>{"use strict";function n(e){const t=new Uint8Array(4*e.length);let r=0;for(let n=0;n<e.length;n++){const a=e[n];t[r++]=a>>>24,t[r++]=a>>16&255,t[r++]=a>>8&255,t[r++]=255&a}return t.buffer}function a(e){return e.buffer}function o(e){const t=new Uint8Array(e),r=new Uint32Array(t.length/4);for(let e=0;e<t.length;e+=4)r[e/4]=t[e]<<24^t[e+1]<<16^t[e+2]<<8^t[e+3];return r}function i(e){return new Uint32Array(e)}r.r(t),r.d(t,{ab2i:()=>c,ab2iBig:()=>i,ab2iLow:()=>o,i2ab:()=>l,i2abBig:()=>a,i2abLow:()=>n,isBigEndian:()=>s});const s=1===new Uint8Array(new Uint32Array([16909060]))[0],l=s?a:n,c=s?i:o},66842:(e,t,r)=>{var n=r(48764).Buffer;const a=r(28136).default,{i2ab:o,ab2i:i}=r(74121),{getWords:s}=r(77760);class l{constructor(e){this.setBytes(e)}setBytes(e){e=n.from(e),this._counter=e}increment(){for(let e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}}}class c{constructor(e,t){t instanceof l||(t=new l(t)),this._counter=t,this._remainingCounter=void 0,this._remainingCounterIndex=16,this._aes=new a(s(e))}update(e){return this.encrypt(e)}encrypt(e){const t=n.from(e);for(let e=0;e<t.length;e++)16===this._remainingCounterIndex&&(this._remainingCounter=n.from(o(this._aes.encrypt(i(this._counter._counter)))),this._remainingCounterIndex=0,this._counter.increment()),t[e]^=this._remainingCounter[this._remainingCounterIndex++];return t}}class u{constructor(e){this.algorithm=e}update(e){this.data=new Uint8Array(e)}async digest(){return"sha1"===this.algorithm?n.from(await self.crypto.subtle.digest("SHA-1",this.data)):"sha256"===this.algorithm?n.from(await self.crypto.subtle.digest("SHA-256",this.data)):void 0}}e.exports={createCipheriv:function(e,t,r){if(e.includes("ECB"))throw new Error("Not supported");return new c(t,r)},createDecipheriv:function(e,t,r){if(e.includes("ECB"))throw new Error("Not supported");return new c(t,r)},randomBytes:function(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),t},createHash:function(e){return new u(e)},pbkdf2:async function(e,t,r){const a=await crypto.subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]);return n.from(await crypto.subtle.deriveBits({name:"PBKDF2",hash:"SHA-512",salt:t,iterations:r},a,512))}}},77760:(e,t,r)=>{"use strict";function n(e,t){return e.charCodeAt(t)<<24^e.charCodeAt(t+1)<<16^e.charCodeAt(t+2)<<8^e.charCodeAt(t+3)}function a(e){if(e instanceof Uint32Array)return e;if("string"==typeof e){if(e.length%4!=0)for(let t=e.length%4;t<=4;t++)e+="\0x00";const t=new Uint32Array(e.length/4);for(let r=0;r<e.length;r+=4)t[r/4]=n(e,r);return t}if(e instanceof Uint8Array){const t=new Uint32Array(e.length/4);for(let r=0;r<e.length;r+=4)t[r/4]=e[r]<<24^e[r+1]<<16^e[r+2]<<8^e[r+3];return t}throw new Error("Unable to create 32-bit words")}function o(e,t,r=e){for(let n=0;n<e.length;n++)r[n]=e[n]^t[n]}r.r(t),r.d(t,{getWords:()=>a,s2i:()=>n,xor:()=>o})},82752:(e,t,r)=>{"use strict";r.d(t,{Mt:()=>h,On:()=>g,ZP:()=>P,_b:()=>s,_f:()=>l,es:()=>v,mS:()=>p,rI:()=>b,sB:()=>f});var n=r(48764).Buffer;function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o=r(73679);let i=[];function s(){const e=i.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function l(e){let t=e.bytes,r=e.limit;return t.length===r?t:t.subarray(0,r)}function c(e,t){let r=e.bytes,n=e.offset,a=e.limit,o=n+t;if(o>r.length){let t=new Uint8Array(2*o);t.set(r),e.bytes=t}return e.offset=o,o>a&&(e.limit=o),n}function u(e,t){let r=e.offset;if(r+t>e.limit)throw new Error("Read past limit");return e.offset+=t,r}function d(e){let t=u(e,4),r=e.bytes;return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]}function m(e,t){let r=c(e,4),n=e.bytes;n[r+3]=t,n[r+2]=t>>8,n[r+1]=t>>16,n[r]=t>>24}function h(e){let t=u(e,2),r=e.bytes;return r[t]<<8|r[t+1]}function g(e,t){let r=c(e,2),n=e.bytes;n[r+1]=t,n[r]=t>>8}function f(e,t){let r=u(e,t);return e.bytes.subarray(r,r+t)}function p(e,t){let r=c(e,t.length);e.bytes.set(t,r)}function b(e){return{bytes:e,offset:0,limit:e.length}}class v{constructor(e){a(this,"_pbData",void 0),a(this,"_pbHeader",void 0),a(this,"_pbBody",void 0),a(this,"_bb",void 0),this._pbData=new Uint8Array,this._pbBody=new Uint8Array,this._bb=s(),this._pbHeader={length:0,version:0,flag:0,command_id:0,seq_num:0,reversed:0},e&&(this.setPbData(e),this.readPbData())}getPbData(){return this._pbData}setPbData(e){this._pbData=e}getPbDataLength(){return this._pbData.length}getPbBody(){return this._pbBody}body(){return this._pbBody}getPbBodyLength(){return this._pbBody.length}setPbBody(e){this._pbBody=e}writeData(e,t,r=0,a=0){this.setPbBody(e),this._pbHeader={length:e.length+16,version:0,flag:0,command_id:t,seq_num:r,reversed:a},m(this._bb,this._pbHeader.length),g(this._bb,this._pbHeader.version),g(this._bb,this._pbHeader.flag),g(this._bb,this._pbHeader.command_id),g(this._bb,this._pbHeader.seq_num),m(this._bb,this._pbHeader.reversed),p(this._bb,n.from(e)),this.setPbData(l(this._bb))}updateSeqNo(e){this._bb.offset=10,g(this._bb,e),this._pbHeader.seq_num=e}readPbData(){const e=b(this._pbData.slice(0,16));this._pbHeader.length=d(e),this._pbHeader.version=h(e),this._pbHeader.flag=h(e),this._pbHeader.command_id=h(e),this._pbHeader.seq_num=h(e),this._pbHeader.reversed=d(e),this.setPbBody(this._pbData.slice(16,this._pbHeader.length))}getCommandId(){return this._pbHeader.command_id}getReversed(){return this._pbHeader.reversed}getSeqNum(){return this._pbHeader.seq_num}}let y=0;class P{constructor(e,t){a(this,"__cid",void 0),a(this,"msg",void 0),a(this,"__pb",void 0);const r=e.split(".");let n=o.default;do{n=n[r.shift()]}while(r.length>0);this.__pb=n,this.setMsg(t)}setCommandId(e){this.__cid=e}setMsg(e){this.msg=e}getMsg(){return this.msg}encode(){return this.__E()}decode(e){return this.__D(e)}pack(){return this.__pack()}toHex(){return n.from(this.__E()).toString("hex")}fromHex(e){return 0===e.indexOf("0x")&&(e=e.substring(2)),this.__D(n.from(e,"hex"))}__E(){const e=this.__pb.create(this.getMsg());return this.__pb.encode(e).finish()}__D(e){const t=this.__pb.decode(e);return this.__pb.toObject(t)}__pack(){const e=new v;return y>1e4&&(y=0),e.writeData(this.__E(),this.__cid,++y),e}}},96076:(e,t,r)=>{"use strict";r(82752)},5038:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(82752);class a extends n.ZP{constructor(e){var t,r,n;super("PTP.Common.PbQrCode",e),t=this,n=void 0,(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(r="msg"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.msg=e}static parseMsg(e){return(new a).decode(e.body())}}},72774:(e,t,r)=>{"use strict";r(82752)},37029:(e,t,r)=>{"use strict";r.d(t,{zF:()=>n.Z}),r(975),r(79441),r(37729),r(56106),r(83551),r(35585),r(46008),r(68991),r(60014),r(82621),r(54373),r(88605),r(37717),r(9541),r(96076),r(12901);var n=r(5038);r(99061),r(30888),r(4199),r(84212),r(72774),r(83630),r(91965),r(42183),r(94595),r(5328),r(97631)},98069:(e,t,r)=>{"use strict";r.d(t,{In:()=>o,l_:()=>a,wT:()=>i});let n=0;function a(){n+=1}function o(){n-=1}function i(){return n>0}},3858:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=e=>{e.stopPropagation(),e.preventDefault()}},2133:(e,t,r)=>{"use strict";function n(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}r.d(t,{Ju:()=>a,i5:()=>n,k1:()=>o,q9:()=>i});const a=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);function o(e){const t=e.replace(/#/g,"?"),r=new URL(t),n=Array.from(r.searchParams.entries()).reduce(((e,[t,r])=>({...e,[t]:r})),{});return{url:r,query:n}}function i(){return Math.ceil(+new Date/1e3)}}}]);
//# sourceMappingURL=3041.a4a1c08e0b2bc4873b25.js.map